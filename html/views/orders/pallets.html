{% extends 'masters/blank.html' %}
{% load staticfiles %}
{% block page.content %}

{% if object_list|length > 0 %}
<div class="row">
	<div class="col-md-4">
		<div class="panel panel-default" >
			<div class="panel-heading">
				<h4>Rollos</h4>
			</div>
			<div class="panel-body">
				<div class="col-md-12">
					{% if roll_list|length > 0%}
					<div class="table-responsive" style="max-height:  400px">
					<table id="table-ext-1" class="table table-striped table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>NÃºmero de Rollo</th>
								<th>Peso Total</th>
								<th>Series</th>
								<th>Opciones</th>
							</tr>
						</thead>
						<tbody>
							{% for object in roll_list %}
							<tr>
								<td>{{ forloop.counter }}</td>
								<td>{{ object.roll_name }}</td>
								<td>{{ object.order_id}} kgs.</td>
								<td>{{ object.last_login|default_if_none:'Nunca' }}</td>
								<td><a href="{% url 'orders:delete_roll' pk=object.id%}" class="btn btn-labeled btn-danger"><i class="fa fa-trash"></i></a></td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					</div>
					{%else%}
						<div style="text-align: center">
							<i class="fa fa-exclamation-triangle" style="font-size:60px;"></i>
							<h2>Orden sin Rollos</h2>
						</div>
					{%endif%}
				</div>
			</div>
			<div class="panel-footer">
				<div class="clearfix">
					<div class="pull-right">
						<button type="button" class="btn btn-labeled btn-success" data-toggle="modal" data-target="#myModal">Crear Rollo</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-md-8">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4>Listas de Empaque</h4>
			</div>
			<div class="panel-body">
				{% for object in object_list %}
				<div class="col-md-6">
					<h4>Lista de Empaque {{forloop.counter}}</h4>
					<div class="row" data-draggable="target">
						<div class="col-md-12" style="border:1px #cfdbe2 solid; background: #fff;min-height: 2em;">
							<div class="col-xs-3" style="border-right: 1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">#Rollo</div>
							<div class="col-xs-3" style="border-right:1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">Peso</div>
							<div class="col-xs-3" style="border-right:1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">Rango</div>
							<div class="col-xs-3" style="font-weight: 800;min-height: 2em;">Arrastrar</div>
						</div>
						<div class="col-md-12" style="border:1px #cfdbe2 solid; background: #fff;min-height: 2em;">
							<div class="col-xs-3" style="border-right: 1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">10 Rollos</div>
							<div class="col-xs-3" style="border-right:1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">450KGS</div>
							<div class="col-xs-3" style="border-right:1px #cfdbe2 solid; font-weight: 800;min-height: 2em;">300</div>
							<div class="col-xs-3" style="font-weight: 800;min-height: 2em;"></div>
						</div>
						<div class="col-md-12" data-draggable="item" style="">
							<div class="col-xs-3" >0.-</div>
							<div class="col-xs-3" >3.25</div>
							<div class="col-xs-3" >1A</div>
						</div>
					</div>
				</div>
                {%endfor%}
			</div>
			<div class="panel-footer">
				<div class="clearfix">
					<div class="pull-right">
						<a href=""><button type="button" class="btn btn-labeled btn-success"><span class="btn-label"><i class="fa fa-plus-square-o"></i>
						</span>Crear Rollo</button></a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% else %}
{% include 'views/orders/includes/error.html'%}
{% endif %}
{%endblock%}
{% block modal%}
<div id="myModal" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">Crear Rollo en el Sistema</h4>
			</div>
			<form method="POST" action="{% url 'orders:add_roll'%}">
				{% csrf_token %}
				
			<div class="modal-body">
				<input type="hidden" name="primarykey" value="{{object.id}}">
				<input type="number" step="1" maxlength="22" minlength="1" name="roll_name" class="form-control" required="" placeholder="3A" style="">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
				<button type="submit" class="btn btn-primary">Guardar</button>
			</div>
			</form>
		</div>
	</div>
</div>
{%endblock %}
{% block search %}
{% if btn3 %}
<div class="btn-group pull-right hidden-print">
	<a href='{{ btn_url3 }}'><button type="button" class="btn btn-default btn-sm">{{ btn3 }}</button></a>
</div>
{% endif %}
{% if btn2 %}
<div class="btn-group pull-right hidden-print">
<form method="POST" action='{% url "orders:new_pallet" pk=pk%}'>
	{% csrf_token %}
	<button type="submit" class="btn btn-default btn-sm">{{ btn2 }}</button>
</form>

</div>
{% endif %}
{% if btn %}
<div class="btn-group pull-right hidden-print">
	<a href='{{ btn_url }}'><button type="button" class="btn btn-default btn-sm">{{ btn }}</button></a>
</div>
{% endif %}
{% endblock %}



{%block js%}
{%endblock%}
//Codigo para obtener valores de cada ol
	$('ol li').each(function(i)
		{console.log($(this).attr('rel'));
		console.log('1')
	});